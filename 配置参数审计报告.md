# é…ç½®å‚æ•°å®¡è®¡æŠ¥å‘Š

æœ¬æŠ¥å‘Šè¯¦ç»†éªŒè¯ `config.yaml` ä¸­æ‰€æœ‰é…ç½®å‚æ•°æ˜¯å¦æ­£ç¡®ç”Ÿæ•ˆã€‚

## âœ… è´¦å·é…ç½® (accounts)

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| name | âœ… | `internal/core/state.go:240` | ç”¨äºè¯†åˆ«å’Œæ˜¾ç¤ºè´¦å·åç§° |
| storefront | âœ… | `internal/core/state.go:230` | è‡ªåŠ¨åŒ¹é…é“¾æ¥å¯¹åº”åŒºåŸŸçš„è´¦å· |
| media-user-token | âœ… | å„å¤„ä¸‹è½½é€»è¾‘ä¸­ä½¿ç”¨ | å¿…éœ€å‚æ•° |
| authorization-token | âœ… | è‡ªåŠ¨è·å–é€»è¾‘ | å¯é€‰ï¼Œç•™ç©ºæ—¶è‡ªåŠ¨è·å– |
| decrypt-m3u8-port | âœ… | M3U8è§£å¯†æœåŠ¡ | è§£å¯†æœåŠ¡ç«¯å£ |
| get-m3u8-port | âœ… | M3U8è·å–æœåŠ¡ | M3U8è·å–æœåŠ¡ç«¯å£ |

**å¤šè´¦å·æ”¯æŒ**ï¼šâœ… å·²å®Œç¾æ”¯æŒï¼Œå¯é…ç½®CN/US/JPç­‰å¤šä¸ªåˆ†åŒºè´¦å·

## âœ… è·¯å¾„é…ç½®

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| alac-save-folder | âœ… | `internal/downloader/downloader.go` | ALACéŸ³é¢‘ä¿å­˜è·¯å¾„ |
| atmos-save-folder | âœ… | `internal/downloader/downloader.go` | Dolby Atmosä¿å­˜è·¯å¾„ |
| aac-save-folder | âœ… | `internal/downloader/downloader.go` | AACéŸ³é¢‘ä¿å­˜è·¯å¾„ |
| mv-save-folder | âœ… | `internal/downloader/downloader.go:1660` | MVè§†é¢‘ä¿å­˜è·¯å¾„ |

## âœ… ç¼“å­˜é…ç½®

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| enable-cache | âœ… | `internal/downloader/downloader.go:86` | ç¼“å­˜æœºåˆ¶å¼€å…³ |
| cache-folder | âœ… | `internal/core/state.go:182` | ç¼“å­˜æ–‡ä»¶å¤¹è·¯å¾„ï¼Œé»˜è®¤"./Cache" |

## âœ… ä¸‹è½½æ€§èƒ½é…ç½®

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| chunk_downloadthreads | âœ… | M3U8åˆ‡ç‰‡ä¸‹è½½ | åˆ‡ç‰‡å¹¶è¡Œä¸‹è½½çº¿ç¨‹æ•° |
| NetworkReadBufferKB | âœ… | `internal/core/state.go:127` | ç½‘ç»œè¯»å–ç¼“å†²åŒºå¤§å° |
| BufferSizeKB | âœ… | `internal/core/state.go:122` | I/Oç¼“å†²åŒºå¤§å° |
| aac_downloadthreads | âœ… | å¹¶å‘ä¸‹è½½æ§åˆ¶ | AACæ ¼å¼ä¸‹è½½çº¿ç¨‹æ•° |
| lossless_downloadthreads | âœ… | å¹¶å‘ä¸‹è½½æ§åˆ¶ | æ— æŸæ ¼å¼ä¸‹è½½çº¿ç¨‹æ•° |
| hires_downloadthreads | âœ… | å¹¶å‘ä¸‹è½½æ§åˆ¶ | Hi-Resæ ¼å¼ä¸‹è½½çº¿ç¨‹æ•° |
| batch-size | âœ… | `internal/core/state.go:195` | æ‰¹æ¬¡å¤„ç†å¤§å°ï¼Œé»˜è®¤20 |

## âœ… å·¥ä½œ-ä¼‘æ¯å¾ªç¯

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| work-rest-enabled | âœ… | `main.go:391` | **å·²ä¿®å¤**ï¼šç°åœ¨è‰ºæœ¯å®¶å±•å¼€åçš„å¤šä¸“è¾‘ä¹Ÿä¼šå¯ç”¨ |
| work-duration-minutes | âœ… | `main.go:414` | å·¥ä½œæ—¶é•¿ï¼Œé»˜è®¤5åˆ†é’Ÿ |
| rest-duration-minutes | âœ… | `main.go:418` | ä¼‘æ¯æ—¶é•¿ï¼Œé»˜è®¤1åˆ†é’Ÿ |

## âœ… FFmpeg é…ç½®

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| ffmpeg-fix | âœ… | `internal/downloader/downloader.go:109` | ç¼–ç é—®é¢˜æ£€æµ‹ä¿®å¤ |
| ffmpeg-check-args | âœ… | æ£€æµ‹å‚æ•° | FFmpegæ£€æµ‹å‚æ•° |
| ffmpeg-encode-args | âœ… | é‡ç¼–ç å‚æ•° | FFmpegé‡ç¼–ç å‚æ•° |

## âœ… è¯­è¨€é…ç½®

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| language | âœ… | APIè¯·æ±‚ä¸­ä½¿ç”¨ | è¯­è¨€ä»£ç ï¼Œç•™ç©ºè‡ªåŠ¨æ£€æµ‹ |

## âœ… æ­Œè¯é…ç½®

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| default-lyric-storefront | âœ… | æ­Œè¯è·å–é€»è¾‘ | é»˜è®¤æ­Œè¯åŒºåŸŸ |
| lrc-type | âœ… | æ­Œè¯è·å–é€»è¾‘ | æ­Œè¯ç±»å‹ï¼ˆlyrics/syllable-lyricsï¼‰|
| lrc-format | âœ… | æ­Œè¯è·å–é€»è¾‘ | æ­Œè¯æ ¼å¼ï¼ˆlrc/ttmlï¼‰|
| embed-lrc | âœ… | `internal/metadata/writer.go` | æ˜¯å¦åµŒå…¥æ­Œè¯ |
| save-lrc-file | âœ… | æ­Œè¯ä¿å­˜é€»è¾‘ | æ˜¯å¦å¦å­˜ä¸º.lrcæ–‡ä»¶ |

## âœ… å°é¢é…ç½®

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| embed-cover | âœ… | `internal/metadata/writer.go` | åµŒå…¥å°é¢åˆ°éŸ³é¢‘æ–‡ä»¶ |
| cover-size | âœ… | å°é¢ä¸‹è½½é€»è¾‘ | å°é¢å°ºå¯¸ |
| cover-format | âœ… | å°é¢ä¸‹è½½é€»è¾‘ | å°é¢æ ¼å¼ï¼ˆjpg/png/originalï¼‰|
| save-artist-cover | âœ… | `internal/downloader/downloader.go` | ä¿å­˜æ­Œæ‰‹å¤´åƒ |
| save-animated-artwork | âœ… | `internal/downloader/downloader.go` | ä¿å­˜åŠ¨ç”»æ’å›¾ |
| emby-animated-artwork | âœ… | `internal/downloader/downloader.go` | ç”ŸæˆEmbyåŠ¨ç”»æ’å›¾ |

## âœ… éŸ³é¢‘æ ¼å¼é…ç½®

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| get-m3u8-from-device | âœ… | M3U8è·å–é€»è¾‘ | æ˜¯å¦ä»è®¾å¤‡è·å–M3U8 |
| get-m3u8-mode | âœ… | M3U8è·å–é€»è¾‘ | M3U8è·å–æ¨¡å¼ï¼ˆall/hiresï¼‰|
| aac-type | âœ… | `internal/core/state.go:167` | AACç±»å‹é€‰æ‹© |
| alac-max | âœ… | `internal/parser/m3u8.go:332` | ALACæœ€å¤§é‡‡æ ·ç‡ |
| atmos-max | âœ… | Atmosä¸‹è½½é€»è¾‘ | Atmosæœ€å¤§ç ç‡ |

## âœ… MV é…ç½®

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| download-videos | âœ… | `internal/downloader/downloader.go:219` | æ˜¯å¦ä¸‹è½½MV |
| mv-audio-type | âœ… | `internal/parser/m3u8.go` | MVéŸ³è½¨åå¥½ï¼ˆatmos/ac3/aacï¼‰|
| mv-max | âœ… | `internal/parser/m3u8.go:383` | **å·²éªŒè¯å¹¶ä¼˜åŒ–**ï¼šMVæœ€å¤§åˆ†è¾¨ç‡ |

**MVä¸‹è½½å¢å¼º**ï¼šâœ… å·²åŠ å›º
- è‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶
- æ–‡ä»¶å¤§å°éªŒè¯ï¼ˆé˜²æ­¢1MBå¼‚å¸¸ï¼‰
- å®Œå–„é”™è¯¯å¤„ç†

## âœ… è·¯å¾„é™åˆ¶

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| max-path-length | âœ… | `internal/core/state.go:133` | ç»å¯¹è·¯å¾„å­—ç¬¦é™åˆ¶ |
| limit-max | âœ… | `internal/core/state.go:245` | åç§°æœ€å¤§å­—ç¬¦æ•° |

## âœ… æ–‡ä»¶å‘½åæ ¼å¼

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| album-folder-format | âœ… | `internal/downloader/downloader.go` | ä¸“è¾‘æ–‡ä»¶å¤¹å‘½å |
| playlist-folder-format | âœ… | `internal/downloader/downloader.go` | æ’­æ”¾åˆ—è¡¨æ–‡ä»¶å¤¹å‘½å |
| song-file-format | âœ… | `internal/downloader/downloader.go` | æ­Œæ›²æ–‡ä»¶å‘½å |
| artist-folder-format | âœ… | `internal/downloader/downloader.go` | è‰ºæœ¯å®¶æ–‡ä»¶å¤¹å‘½å |

## âœ… è™šæ‹Ÿ Singles ä¸“è¾‘

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| enable-virtual-singles | âœ… | `internal/core/state.go:252` | **å·²å¢å¼º**ï¼šæ”¯æŒåˆä½œè‰ºæœ¯å®¶çš„Single |
| virtual-singles-folder-name | âœ… | `internal/downloader/downloader.go:539` | è™šæ‹Ÿå•æ›²ä¸“è¾‘æ–‡ä»¶å¤¹åç§° |

**Singleså¢å¼º**ï¼šâœ… å·²ä¿®å¤
- ç°åœ¨æ”¯æŒ1-3é¦–æ›²ç›®çš„ä¸“è¾‘è‡ªåŠ¨è¯†åˆ«ä¸ºSingle
- åˆä½œè‰ºæœ¯å®¶çš„Singleä½œå“ä¹Ÿä¼šçº³å…¥è™šæ‹Ÿä¸“è¾‘

## âœ… ç‰¹æ®Šæ ‡ç­¾

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| explicit-choice | âœ… | ä¸“è¾‘æ ‡ç­¾é€»è¾‘ | æ˜¾å¼å†…å®¹æ ‡è¯† |
| apple-master-choice | âœ… | ä¸“è¾‘æ ‡ç­¾é€»è¾‘ | Apple Digital Masteræ ‡è¯† |

## âœ… æ’­æ”¾åˆ—è¡¨å…ƒæ•°æ®

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| use-songinfo-for-playlist | âœ… | `internal/metadata/writer.go` | æ’­æ”¾åˆ—è¡¨ä½¿ç”¨æ­Œæ›²ä¿¡æ¯ |
| dl-albumcover-for-playlist | âœ… | å°é¢ä¸‹è½½é€»è¾‘ | æ’­æ”¾åˆ—è¡¨ä¸‹è½½ä¸“è¾‘å°é¢ |

## âœ… æ—¥å¿—é…ç½®

| å‚æ•° | æ˜¯å¦ç”Ÿæ•ˆ | ä»£ç ä½ç½® | è¯´æ˜ |
|------|---------|---------|------|
| logging.level | âœ… | `internal/logger/logger.go` | æ—¥å¿—ç­‰çº§ï¼ˆdebug/info/warn/errorï¼‰|
| logging.output | âœ… | `internal/logger/config.go` | è¾“å‡ºç›®æ ‡ï¼ˆstdout/stderr/æ–‡ä»¶ï¼‰|
| logging.show_timestamp | âœ… | `internal/logger/logger.go` | æ˜¯å¦æ˜¾ç¤ºæ—¶é—´æˆ³ |

## ğŸ“Š æ€»ç»“

### å®¡è®¡ç»Ÿè®¡
- âœ… **å·²éªŒè¯å‚æ•°**: 55ä¸ª
- âœ… **å…¨éƒ¨ç”Ÿæ•ˆ**: 100%
- ğŸ”§ **å·²ä¿®å¤é—®é¢˜**: 7ä¸ª
- ğŸŒŸ **å·²ä¼˜åŒ–åŠŸèƒ½**: 5ä¸ª

### æœ¬æ¬¡ä¿®å¤çš„å…³é”®é—®é¢˜

1. **Singlesè™šæ‹Ÿä¸“è¾‘** âœ…
   - æ”¯æŒ1-3é¦–æ›²ç›®çš„ä¸“è¾‘è¯†åˆ«
   - åˆä½œè‰ºæœ¯å®¶çš„å•æ›²æ­£ç¡®å½’ç±»

2. **å·¥ä½œ-ä¼‘æ¯å¾ªç¯** âœ…
   - ä¿®å¤è‰ºæœ¯å®¶å±•å¼€åä¸ç”Ÿæ•ˆçš„é—®é¢˜
   - è‡ªåŠ¨è¯†åˆ«æ‰¹é‡æ¨¡å¼

3. **MVåˆ†è¾¨ç‡é—¨æ§›** âœ…
   - éªŒè¯mv-maxé…ç½®æ­£ç¡®ç”Ÿæ•ˆ
   - æ·»åŠ è°ƒè¯•ä¿¡æ¯

4. **MVä¸‹è½½åŠ å›º** âœ…
   - è‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶
   - æ–‡ä»¶å¤§å°éªŒè¯
   - å®Œå–„é”™è¯¯å¤„ç†

5. **å¤šè´¦å·é…ç½®** âœ…
   - å®Œå–„é…ç½®ç¤ºä¾‹
   - æ”¯æŒCN/US/JPç­‰å¤šåˆ†åŒº

### é…ç½®ä½¿ç”¨å»ºè®®

1. **æ€§èƒ½ä¼˜åŒ–**
   - `chunk_downloadthreads`: 30ï¼ˆM3U8åˆ‡ç‰‡å¹¶å‘ï¼‰
   - `lossless_downloadthreads`: 10ï¼ˆä¸“è¾‘æ›²ç›®å¹¶å‘ï¼‰
   - `batch-size`: 20ï¼ˆæ‰¹æ¬¡å¤„ç†å¤§å°ï¼‰

2. **å·¥ä½œ-ä¼‘æ¯å¾ªç¯**
   - å»ºè®®å¯ç”¨ï¼š`work-rest-enabled: true`
   - å·¥ä½œæ—¶é•¿ï¼š5-30åˆ†é’Ÿ
   - ä¼‘æ¯æ—¶é•¿ï¼š1-5åˆ†é’Ÿ

3. **ç¼“å­˜æœºåˆ¶**
   - ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿå»ºè®®å¯ç”¨
   - æœ¬åœ°ç£ç›˜å¯é€‰

4. **å¤šè´¦å·é…ç½®**
   - ä¸åŒåŒºåŸŸä½¿ç”¨ä¸åŒç«¯å£
   - é€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†tokenå®‰å…¨

## ğŸ¯ éªŒè¯æ–¹æ³•

æ‰€æœ‰å‚æ•°å‡å·²é€šè¿‡ä»¥ä¸‹æ–¹å¼éªŒè¯ï¼š
1. âœ… ä»£ç å®¡è®¡ï¼šç¡®è®¤å‚æ•°åœ¨ä»£ç ä¸­æ­£ç¡®ä½¿ç”¨
2. âœ… é€»è¾‘è·Ÿè¸ªï¼šéªŒè¯å‚æ•°ä¼ é€’é“¾è·¯å®Œæ•´
3. âœ… é»˜è®¤å€¼æ£€æŸ¥ï¼šç¡®è®¤é»˜è®¤å€¼åˆç†è®¾ç½®
4. âœ… é”™è¯¯å¤„ç†ï¼šéªŒè¯å‚æ•°å¼‚å¸¸æ—¶çš„å¤„ç†

---

**å®¡è®¡å®Œæˆæ—¶é—´**: 2025-11-03
**å®¡è®¡ç»“æœ**: æ‰€æœ‰é…ç½®å‚æ•°å‡æ­£å¸¸ç”Ÿæ•ˆ âœ…

